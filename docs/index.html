<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>The Berry Script Language</title>
	<meta name="author" content="Díaz Urbaneja Víctor Eduardo Diex (diazvictor)">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/berry_web/assets/css/base.css">
	<link rel="stylesheet" href="/berry_web/assets/css/highlight.css">
	<link rel="stylesheet" href="/berry_web/assets/css/icons.css">
	<link rel="shortcut icon" href="/berry_web/assets/images/icon.svg" type="image/x-icon">
</head>
<body>
	<div class="container">
		<header class="hero">
			<div class="hero-head">
				<nav class="navbar">
					<div class="navbar-brand">
						<a class="navbar-logo" href="javascript:;">
							<img src="/berry_web/assets/images/icon.svg" width="32" alt="Logo">
						</a>
					</div>
					<span class="navbar-burger">
						<span></span>
						<span></span>
						<span></span>
					</span>
					<div class="navbar-menu">
						<a class="navbar-item go-element" href="#what-is-it">
							What is it ?
						</a>
						<a class="navbar-item go-element" href="#features">
							Features
						</a>
						<a class="navbar-item go-element" href="#documentation">
							Documentation
						</a>
						<a class="navbar-item" href="https://github.com/Skiars/berry" target="_blank">
							Github <i class="icon-github"></i>
						</a>
					</div>
				</nav>
			</div>
			<div class="hero-body">
				<div class="content">
					<img src="/berry_web/assets/images/logo.svg" class="logo" alt="Logo">
					<p class="subtitle">
						The Berry Script Language.
					</p>
					<div class="buttons">
						<a href="/try-online.html" target="_blank" class="be-btn outline">Try Online</a>
						<a href="https://github.com/Skiars/berry" target="_blank" class="be-btn">Github <i class="icon-github"></i></a>
					</div>
				</div>
			</div>
		</header>
		<main class="content">
			<article id="what-is-it">
				<section>
					<h1 class="be-header">What is it ?</h1>
					<p>
						Berry is a ultra-lightweight dynamically typed embedded scripting language. It is designed for lower-performance embedded devices. The Berry interpreter-core's code size is less than 40KiB and can run on less than 4KiB heap (on ARM Cortex M4 CPU, Thumb ISA and ARMCC compiler).
					</p>
					<p>
						The interpreter of Berry include a one-pass compiler and register-based VM, all the code is written in ANSI C99. In Berry not every type is a class object. Some simple value types, such as int, real, boolean and string are not class object, but list, map and range are class object. This is a consideration about performance. Register-based VM is the same meaning as above.
					</p>
				</section>
			</article>
			<hr>
			<article id="advantages">
				<section>
					<h1 class="be-header be-text-center">Berry has the following advantages</h1>
					<div class="be-columns">
						<div class="be-text-center">
							<i class="icon-feather-alt icon-4x"></i>
							<h2>Lightweight</h2>
							<p>
								A well-optimized interpreter with very little resources. Ideal for use in microprocessors.
							</p>
						</div>
						<div class="be-text-center">
							<i class="icon-running icon-4x"></i>
							<h2>Fast</h2>
							<p>
								Optimized one-pass bytecode compiler and register-based virtual machine.
							</p>
						</div>
						<div class="be-text-center">
							<i class="icon-bolt icon-4x"></i>
							<h2>Powerful</h2>
							<p>
								Supports imperative programming, object-oriented programming, functional programming.
							</p>
						</div>
						<div class="be-text-center">
							<i class="icon-magic icon-4x"></i>
							<h2>Flexible</h2>
							<p>
								Berry is a dynamic type script, and it's intended for embedding in applications. It can provide good dynamic scalability for the host system.
							</p>
						</div>
						<div class="be-text-center">
							<i class="icon-code icon-4x"></i>
							<h2>Simple</h2>
							<p>
								Simple and natural syntax, support garbage collection, and easy to use FFI (foreign function interface).
							</p>
						</div>
						<div class="be-text-center">
							<i class="icon-memory icon-4x"></i>
							<h2>RAM saving</h2>
							<p>
								With compile-time object construction, most of the constant objects are stored in read-only code data segments, so the RAM usage of the interpreter is very low when it starts.
							</p>
						</div>
					</div>
				</section>
			</article>
			<hr>
			<article id="documentation">
				<section>
					<h1 class="be-header">Documentation</h1>
					<p>
						LaTeX documents repository: <a href="https://github.com/Skiars/berry_doc">https://github.com/Skiars/berry_doc</a>
					</p>
					<p>
						Short Manual: <a href="https://github.com/Skiars/berry_doc/releases/download/latest/berry_short_manual.pdf">berry_short_manual.pdf</a>.
					</p>
					<p>
						Reference Manual: <a href="https://github.com/Skiars/berry_doc/releases/download/latest/berry_rm_en_us.pdf">berry_rm_en_us.pdf</a>, <a href="https://github.com/Skiars/berry_doc/releases/download/latest/berry_rm_zh_cn.pdf">berry_rm_zh_cn.pdf</a>.
					</p>
					<p>
						Berry's EBNF grammar definition: <a href="https://github.com/Skiars/berry/blob/master/tools/grammar/berry.ebnf">tools/grammar/berry.ebnf</a>
					</p>
				</section>
			</article>
			<hr>
			<article id="features">
				<section>
					<h1 class="be-header">Features</h1>
					<div class="be-columns">
						<ul>
							<li>
								<mark>Base Type</mark>
								<ul>
									<li>Nil: <mark>nil</mark></li>
									<li>Boolean: <mark>true</mark> and <mark>false</mark></li>
									<li>Numerical: Integer (<mark>int</mark>) and Real (<mark>real</mark>)</li>
									<li>String: Single quotation-mark string and double quotation-mark string</li>
									<li>Class: Instance template, read only</li>
									<li>Instance: Object constructed by class</li>
									<li>Module: Read-write key-value pair table</li>
									<li>List: Ordered container, like <mark>[1, 2, 3]</mark></li>
									<li>Map: Hash Map container, like <mark>{ 'a': 1, 2: 3, 'map': {} }</mark></li>
									<li>Range: include a lower and a upper integer value, like <mark>0..5</mark></li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Operator and Expression</mark>
								<ul>
									<li>Assign operator: <mark>=</mark>, <mark>+=</mark>, <mark>-=</mark>, <mark>*=</mark>, <mark>/=</mark>, <mark>%=</mark>, <mark>&=</mark>, <mark>|=</mark>, <mark>^=</mark>, <mark>&lt;&lt;=</mark>, <mark>&gt;&gt;=</mark></li>
									<li>Relational operator: <mark><</mark>, <mark><=</mark>, <mark>==</mark>, <mark>!=</mark>, <mark>></mark>, <mark>&gt;=</mark></li>
									<li>Logic operator: <mark>&amp;&amp;</mark>, <mark>||</mark>, <mark>!</mark></li>
									<li>Arithmetic operator: <mark>+</mark>, <mark>-</mark>, <mark>*</mark>, <mark>/</mark>, <mark>%</mark></li>
									<li>Bitwise operator: <mark>&amp;</mark>, <mark>|</mark>, <mark>~</mark>, <mark>^</mark>, <mark>&lt;&lt;</mark>, <mark>&gt;&gt;</mark></li>
									<li>Field operator: <mark>.</mark></li>
									<li>Subscript operator: <mark>[]</mark></li>
									<li>Connect string operator: <mark>+</mark></li>
									<li>Conditional operator: <mark>? :</mark></li>
									<li>Brackets: <mark>()</mark></li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Control Structure</mark>
								<ul>
									<li>Conditional statement: <mark>if-else</mark></li>
									<li>Iteration statement: <mark>while</mark> and <mark>for</mark></li>
									<li>Jump statement: <mark>break</mark> and <mark>continue</mark></li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Function</mark>
								<ul>
									<li>Local variable and block scope</li>
									<li>Return statement</li>
									<li>Nested functions definition</li>
									<li>Closure based on Upvalue</li>
									<li>Anonymous function</li>
									<li>Lambda expression</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Class</mark>
								<ul>
									<li>Inheritance (only public single inheritance)</li>
									<li>Method and Operator Overload</li>
									<li>Constructor method</li>
									<li>Destructive method</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Module Management</mark>
								<ul>
									<li>Built-in module that takes almost no RAM</li>
									<li>Extension module support: script module, bytecode file module and shared library (like *.so, *.dll) module</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>GC (Garbage collection)</mark>
								<ul>
									<li>Mark-Sweep GC</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Exceptional Handling</mark>
								<ul>
									<li>Throw any exception value using the <mark>raise</mark> statement</li>
									<li>Multiple catch mode</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<mark>Bytecode file support</mark>
								<ul>
									<li>Load the bytecode file and execute</li>
								</ul>
							</li>
						</ul>
					</div>
				</section>
			</article>
			<hr>
			<article id="examples">
				<section>
					<h1>Examples</h1>
<pre class="hl"><span class="hl slc"># fib_rec.be</span>

<span class="hl kwa">import</span> time

<span class="hl kwa">def</span> <span class="hl kwd">fib</span><span class="hl opt">(</span>x<span class="hl opt">)</span>
    <span class="hl kwa">if</span> x <span class="hl opt">&lt;=</span> <span class="hl num">2</span>
        <span class="hl kwa">return</span> <span class="hl num">1</span>
    <span class="hl kwa">end</span>
    <span class="hl kwa">return</span> <span class="hl kwd">fib</span><span class="hl opt">(</span>x <span class="hl opt">-</span> <span class="hl num">1</span><span class="hl opt">) +</span> <span class="hl kwd">fib</span><span class="hl opt">(</span>x <span class="hl opt">-</span> <span class="hl num">2</span><span class="hl opt">)</span>
<span class="hl kwa">end</span>

<span class="hl kwa">var</span> c <span class="hl opt">=</span> <span class="hl kwd">time</span><span class="hl opt">.</span><span class="hl kwd">clock</span><span class="hl opt">()</span>
<span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl str">&quot;fib:&quot;</span><span class="hl opt">,</span> <span class="hl kwd">fib</span><span class="hl opt">(</span><span class="hl num">38</span><span class="hl opt">))</span> <span class="hl slc"># minimum stack size: 78!!</span>
<span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl str">&quot;time:&quot;</span><span class="hl opt">,</span> <span class="hl kwd">time</span><span class="hl opt">.</span><span class="hl kwd">clock</span><span class="hl opt">() -</span> c<span class="hl opt">,</span> <span class="hl str">&#39;s&#39;</span><span class="hl opt">)</span>
</pre>
<pre class="hl"><span class="hl slc"># json.be </span>

<span class="hl kwa">import</span> json
<span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl kwd">json</span><span class="hl opt">.</span><span class="hl kwd">load</span><span class="hl opt">(</span><span class="hl str">&#39;{&quot;key&quot;: &quot;value&quot;}&#39;</span><span class="hl opt">))</span>
<span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl kwd">json</span><span class="hl opt">.</span><span class="hl kwd">dump</span><span class="hl opt">({</span><span class="hl str">&#39;test key&#39;</span><span class="hl opt">:</span> <span class="hl kwa">nil</span><span class="hl opt">}))</span>
<span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl kwd">json</span><span class="hl opt">.</span><span class="hl kwd">dump</span><span class="hl opt">({</span><span class="hl str">&#39;key1&#39;</span><span class="hl opt">:</span> <span class="hl kwa">nil</span><span class="hl opt">,</span> <span class="hl num">45</span><span class="hl opt">:</span> <span class="hl kwa">true</span><span class="hl opt">},</span> <span class="hl str">&#39;format&#39;</span><span class="hl opt">))</span>
</pre>
<pre class="hl"><span class="hl slc"># person.be</span>

<span class="hl kwa">class</span> <span class="hl kwd">Person</span>
	<span class="hl kwa">var</span> name<span class="hl opt">,</span> age
	<span class="hl kwa">def</span> <span class="hl kwd">init</span><span class="hl opt">(</span>name<span class="hl opt">,</span> age<span class="hl opt">)</span>
		</span><span class="hl kwi">self</span><span class="hl opt">.</span>name <span class="hl opt">=</span> name
		</span><span class="hl kwi">self</span><span class="hl opt">.</span>age <span class="hl opt">=</span> age
	<span class="hl kwa">end</span>
	<span class="hl kwa">def</span> <span class="hl kwd">tostring</span><span class="hl opt">()</span>
		<span class="hl kwa">return</span><span class="hl str">&#39;name: &#39;</span><span class="hl opt">+</span> <span class="hl kwb">str</span><span class="hl opt">(</span></span><span class="hl kwi">self</span><span class="hl opt">.</span>name<span class="hl opt">) +</span><span class="hl str">&#39;, age: &#39;</span> <span class="hl opt">+</span> <span class="hl kwb">str</span><span class="hl opt">(</span></span><span class="hl kwi">self</span><span class="hl opt">.</span>age<span class="hl opt">)</span>
	<span class="hl kwa">end</span>
<span class="hl kwa">end</span>

<span class="hl kwa">var</span> johndoe <span class="hl opt">=</span> <span class="hl kwd">Person</span><span class="hl opt">(</span><span class="hl str">&quot;Johndoe&quot;</span><span class="hl opt">,</span> <span class="hl num">25</span><span class="hl opt">)</span>
<span class="hl kwd">print</span><span class="hl opt">(</span>johndoe<span class="hl opt">)</span>
</pre>
<pre class="hl"><span class="hl slc"># scandir.be</span>

<span class="hl kwa">import</span> os

<span class="hl kwa">def</span> <span class="hl kwd">scandir</span><span class="hl opt">(</span>path<span class="hl opt">)</span>
    <span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl str">&#39;path: &#39;</span> <span class="hl opt">+</span> path<span class="hl opt">)</span>
    <span class="hl kwa">for</span> name <span class="hl opt">:</span> <span class="hl kwd">os</span><span class="hl opt">.</span><span class="hl kwd">listdir</span><span class="hl opt">(</span>path<span class="hl opt">)</span>
        <span class="hl kwa">var</span> fullname <span class="hl opt">=</span> <span class="hl kwd">os</span><span class="hl opt">.</span><span class="hl kwd">path</span><span class="hl opt">.</span><span class="hl kwd">join</span><span class="hl opt">(</span>path<span class="hl opt">,</span> name<span class="hl opt">)</span>
        <span class="hl kwa">if</span> <span class="hl kwd">os</span><span class="hl opt">.</span><span class="hl kwd">path</span><span class="hl opt">.</span><span class="hl kwd">isfile</span><span class="hl opt">(</span>fullname<span class="hl opt">)</span>
            <span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl str">&#39;file: &#39;</span> <span class="hl opt">+</span> fullname<span class="hl opt">)</span>
        <span class="hl kwa">else</span>
            <span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl str">&#39;path: &#39;</span> <span class="hl opt">+</span> fullname<span class="hl opt">)</span>
            <span class="hl kwd">scandir</span><span class="hl opt">(</span>fullname<span class="hl opt">)</span>
        <span class="hl kwa">end</span>
    <span class="hl kwa">end</span>
<span class="hl kwa">end</span>

<span class="hl kwd">scandir</span><span class="hl opt">(</span><span class="hl str">&#39;.&#39;</span><span class="hl opt">)</span>
</pre>
				</section>
			</article>
		</main>
		<footer class="footer">
			<p>
				Berry is free software distributed under the <a href="javascript:;">MIT license</a>.
			</p>
		</footer>
	</div>
	<script type="text/javascript" src="/berry_web/assets/js/main.js"></script>
</body>
</html>
